@import '../../../styles/libs';

.input {
  width: 100%;
  margin: 10px 0;
  border: none;

  background-color: inherit;
  outline: none;

  color: inherit;
  font-size: inherit;
  text-align: start;

  transition: color 0.3s;
  &::placeholder {
    color: rgba($BLUE-GRAY-300, 0.3);
  }
}

.button {
  overflow: hidden;

  text-overflow: ellipsis;

  &.empty {
    color: $GRAY-300;
  }
}

@mixin size($paddingX, $height) {
  height: $height;
  padding: 0 $paddingX;
}

@mixin default-theme($color, $backgroundColor, $borderColor) {
  color: $color;
  @include border($borderColor, 1px);

  &:not(&:has(:disabled)) {
    background-color: $backgroundColor;
  }

  &:has(:disabled).readonly {
    color: $color;
  }
}

@mixin disabled-theme($color, $backgroundColor) {
  &:has(:disabled) {
    background-color: $backgroundColor;

    color: $color;
  }
}

@mixin focus-border($borderColor) {
  &:not(&:has(:disabled)):has(:focus) {
    @include border($borderColor, 2px);
  }
}

@mixin hover-border($borderColor) {
  &:not(&:has(:disabled)):hover {
    @include border($borderColor, 1px);
  }
}

.input-container-wrap {
  position: relative;

  height: fit-content;
}

.input-container {
  position: relative;
  z-index: 1;
}

.input-wrap {
  position: relative;
  z-index: 1;
  display: flex;
  gap: 0.8em;
  align-items: center;
  justify-content: center;

  box-sizing: border-box;
  width: 100%;
  border-radius: $BORDER-RADIUS-MD;

  transition: box-shadow 0.3s, background-color 0.3s;

  //*Size
  &.size-small {
    @include size(14px, 32px);
  }

  &.size-medium {
    @include size(16px, 40px);
  }

  &.size-large {
    @include size(18px, 48px);
  }

  //* Type
  &:not(&:has(:disabled)):has(input[type='button']) {
    &,
    > * {
      cursor: pointer;
    }
  }

  &:has(:disabled) > * {
    cursor: not-allowed;
  }

  &.readonly input {
    cursor: default;
  }

  &.error {
    @include border($ROSE-500, 2.2px);
  }
}

.validation-message {
  @include shake-horizontal(0.9s);
  z-index: 0;

  margin: 0;
  padding: 0;
  padding-left: 0.4em;

  color: $ROSE-500;
  font-size: $SMALL;
}

.validation-message-wrap {
  height: 0;
  padding-top: 0;

  transition: height 0.3s, padding-top 0.3s;

  &.show {
    padding-top: 6px;
  }
}

.light {
  @include default-theme($GRAY-700, white, $COOL-GRAY-100);
  @include disabled-theme($GRAY-300, $GRAY-50);
  @include hover-border($COOL-GRAY-200);
  @include focus-border($COOL-GRAY-300);
}

.dark {
  @include default-theme($GRAY-50, $GRAY-700, $COOL-GRAY-600);
  @include disabled-theme($GRAY-500, $GRAY-600);
  @include hover-border($COOL-GRAY-500);
  @include focus-border($COOL-GRAY-400);
}
