{"version":3,"file":"index-5eedc857.js","sources":["../../../node_modules/.pnpm/react-feather@2.0.10_react@18.2.0/node_modules/react-feather/dist/icons/search.js","../../../src/components/molecules/Searchbox/index.tsx"],"sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Search = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"11\",\n    cy: \"11\",\n    r: \"8\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"21\",\n    y1: \"21\",\n    x2: \"16.65\",\n    y2: \"16.65\"\n  }));\n});\nSearch.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nSearch.displayName = 'Search';\nexport default Search;","import { useRef, useState } from 'react';\nimport { Search } from 'react-feather';\n\nimport type {\n  InputProps,\n  InputWrapProps,\n  SelectProps,\n} from '@components/atoms';\nimport { Select, Input } from '@components/atoms';\nimport {\n  useSubscribedState,\n  useValidationMessage,\n  useFilteredSearchOptions,\n} from '@hooks';\nimport type { ValidateHandler, UseFilteredSearchOptionsParams } from '@hooks';\nimport { InnerStateChangeEventHandler, Size } from '@types';\n\nimport styles from './index.module.scss';\n\nexport interface SearchboxProps\n  extends Omit<\n      InputProps,\n      'value' | 'onChange' | 'type' | 'onSelect' | 'className' | 'style'\n    >,\n    Pick<\n      InputWrapProps,\n      'reversed' | 'style' | 'className' | 'label' | 'fixedDarkMode'\n    >,\n    Pick<SelectProps<string, false, false>, 'float'>,\n    Pick<UseFilteredSearchOptionsParams, 'filterByKeyword' | 'options'> {\n  size?: Size;\n  validation?: ValidateHandler<SearchboxProps['value']>;\n  value?: string;\n  onChange?: InnerStateChangeEventHandler<string>;\n  onSelect?: (event: { value: string; prventDefault: () => void }) => void;\n  children?: React.ReactNode;\n}\n\ntype SearchboxFocusEvent = React.FocusEvent<\n  HTMLInputElement,\n  Element & HTMLButtonElement\n>;\n\nexport const Searchbox = ({\n  //* Searchbox props\n  size,\n  filterByKeyword = true,\n  validation,\n  options,\n  value,\n  onChange,\n  onSelect,\n  children = <Search size=\"1.5em\" strokeWidth=\"2px\" />,\n\n  //* Input.Wrap props\n  className,\n  style,\n  reversed,\n  label,\n  fixedDarkMode,\n\n  //* Select props\n  float,\n\n  //* Input props\n  onClick,\n  onFocus,\n  onBlur,\n  ...restInputProps\n}: SearchboxProps) => {\n  const [opened, setOpened] = useState(false);\n\n  const { readOnly, required, id } = restInputProps;\n\n  const setOpenedIfEnabled: typeof setOpened = (value) => {\n    if (readOnly) return;\n    setOpened(value);\n  };\n\n  const [inputValue, setInputValue, preventInnerStateChange] =\n    useSubscribedState(value);\n\n  const filteredOptions = useFilteredSearchOptions({\n    options,\n    filterByKeyword,\n    inputValue,\n  });\n\n  const { validationMessage, validateOnChange } = useValidationMessage({\n    key: id,\n    value: inputValue,\n    validateHandler: validation,\n  });\n\n  const handleChange: typeof onChange = (event) => {\n    onChange?.(event);\n\n    const { value } = event;\n    setInputValue(value);\n    validateOnChange?.(value);\n  };\n\n  let isRefocus = false;\n\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  return (\n    <Input.Wrap\n      size={size}\n      validationMessage={validationMessage}\n      className={className}\n      label={label}\n      style={style}\n      reversed={reversed}\n      required={required}\n      fixedDarkMode={fixedDarkMode}\n    >\n      <Input\n        {...restInputProps}\n        ref={inputRef}\n        onChange={({ value }) => {\n          setOpenedIfEnabled(true);\n          handleChange({ value, preventInnerStateChange });\n        }}\n        onFocus={(e) => {\n          if (isRefocus) isRefocus = false;\n          else onFocus?.(e);\n        }}\n        onClick={(e) => {\n          setOpenedIfEnabled(true);\n          onClick?.(e);\n        }}\n        onBlur={(e: SearchboxFocusEvent) => {\n          if (e.relatedTarget?.name !== 'select-option-item') {\n            setOpenedIfEnabled(false);\n            onBlur?.(e);\n          }\n        }}\n        value={inputValue}\n      />\n      {children ? <div className={styles.decoration}>{children}</div> : null}\n      <Select\n        opened={opened}\n        options={filteredOptions}\n        value={inputValue}\n        cancelable={false}\n        fixedDarkMode={fixedDarkMode}\n        onChange={({ value }) => {\n          let isPrevented = false;\n\n          onSelect?.({\n            value,\n            prventDefault: () => {\n              isPrevented = true;\n            },\n          });\n\n          if (!isPrevented) {\n            handleChange({\n              value,\n              preventInnerStateChange,\n            });\n          }\n\n          isRefocus = true;\n          inputRef.current?.focus();\n          setOpenedIfEnabled(false);\n        }}\n        float={float}\n      />\n    </Input.Wrap>\n  );\n};\n"],"names":["_extends","target","i","source","key","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","sourceKeys","Search","forwardRef","_ref","ref","_ref$color","color","_ref$size","size","rest","React","PropTypes","Search$1","Searchbox","filterByKeyword","validation","options","value","onChange","onSelect","children","jsx","className","style","reversed","label","fixedDarkMode","float","onClick","onFocus","onBlur","restInputProps","opened","setOpened","useState","readOnly","required","id","setOpenedIfEnabled","value2","inputValue","setInputValue","preventInnerStateChange","useSubscribedState","filteredOptions","useFilteredSearchOptions","validationMessage","validateOnChange","useValidationMessage","handleChange","event","isRefocus","inputRef","useRef","jsxs","Input","e","_a","styles","Select","isPrevented"],"mappings":"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","x_google_ignoreList":[0]}