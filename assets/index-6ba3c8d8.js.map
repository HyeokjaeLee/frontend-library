{"version":3,"file":"index-6ba3c8d8.js","sources":["../../../node_modules/.pnpm/react-feather@2.0.10_react@18.2.0/node_modules/react-feather/dist/icons/search.js","../../../src/components/molecules/Searchbox/index.tsx"],"sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Search = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"11\",\n    cy: \"11\",\n    r: \"8\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"21\",\n    y1: \"21\",\n    x2: \"16.65\",\n    y2: \"16.65\"\n  }));\n});\nSearch.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nSearch.displayName = 'Search';\nexport default Search;","import { useMemo, useRef, useState } from 'react';\nimport { Search } from 'react-feather';\n\nimport { useSubscribedState, useValidationMessage } from '@hooks';\nimport type { ValidateHandler } from '@hooks';\nimport { InputDisabled } from '@types';\n\nimport styles from './index.module.scss';\nimport { Select, Input } from '../../atoms';\n\nimport type { InputProps, InputWrapProps, SelectProps } from '../../atoms';\n\nexport interface SearchboxProps\n  extends Omit<\n      InputProps,\n      | 'size'\n      | 'value'\n      | 'onChange'\n      | 'type'\n      | 'onSelect'\n      | 'className'\n      | 'style'\n      | 'disabled'\n    >,\n    Pick<InputWrapProps, 'size' | 'reversed' | 'style' | 'className'>,\n    Pick<SelectProps<string, false>, 'float'> {\n  filterByKeyword?: boolean;\n  validation?: ValidateHandler<SearchboxProps['value']>;\n  options?: string[];\n  value?: string;\n  onChange?: (value: string) => void;\n  onSelect?: (value: string) => {\n    preventDefault?: boolean;\n  } | void;\n  children?: React.ReactNode;\n  disabled?: InputDisabled;\n}\n\ntype SearchboxFocusEvent = React.FocusEvent<\n  HTMLInputElement,\n  Element & HTMLButtonElement\n>;\n\n// TODO: 추후 추상화 필요\nexport const Searchbox = ({\n  //* Searchbox props\n  filterByKeyword = true,\n  validation,\n  options,\n  value,\n  onSelect,\n  children = <Search size=\"1.5em\" strokeWidth=\"2px\" />,\n  disabled,\n\n  //* Input.Wrap props\n  size,\n  className,\n  style,\n  reversed,\n\n  //* Select props\n  float,\n\n  //* Input props\n  onChange,\n  onClick,\n  onFocus,\n  id,\n  name,\n  onBlur,\n  ...restInputProps\n}: SearchboxProps) => {\n  const [opened, setOpened] = useState(false);\n  const [inputValue, setInputValue] = useSubscribedState(value);\n\n  const labeledSelect = useMemo(\n    () => options?.map((value) => ({ label: value, value })),\n    [options],\n  );\n\n  let filteredSelect = labeledSelect;\n\n  if (filterByKeyword && filteredSelect && inputValue) {\n    const standardizeString = (value: string) =>\n      value.toLowerCase().replace(/[^a-z0-9가-힣]/gi, '');\n\n    const standardizeInputTextArray = inputValue\n      .split(' ')\n      .map((value) => standardizeString(value));\n\n    filteredSelect = filteredSelect.filter(({ value }) => {\n      const standardizeOption = standardizeString(value);\n      return standardizeInputTextArray.every((inputText) =>\n        standardizeOption.includes(inputText),\n      );\n    });\n  }\n\n  const { validationMessage, validateValue } = useValidationMessage({\n    id,\n    value: inputValue,\n    validateHandler: validation,\n  });\n\n  const handleChange: typeof onChange = (value) => {\n    setInputValue(value);\n    onChange?.(value);\n    validateValue(value);\n  };\n\n  const tempSearchboxFocusEvent = useRef<SearchboxFocusEvent>();\n  let isRefocus = false;\n\n  return (\n    <Input.Wrap\n      size={size}\n      validationMessage={validationMessage}\n      className={className}\n      style={style}\n      reversed={reversed}\n      readonly={disabled === 'readonly'}\n    >\n      <Input\n        {...restInputProps}\n        disabled={!!disabled}\n        id={id}\n        name={name}\n        onChange={(value) => {\n          setOpened(true);\n          handleChange(value);\n        }}\n        onFocus={(e) => {\n          if (isRefocus) isRefocus = false;\n          else onFocus?.(e);\n        }}\n        onClick={(e) => {\n          setOpened(true);\n          onClick?.(e);\n        }}\n        onBlur={(e: SearchboxFocusEvent) => {\n          if (e.relatedTarget?.name === 'select-option-item')\n            tempSearchboxFocusEvent.current = e;\n          else {\n            setOpened(false);\n            onBlur?.(e);\n          }\n        }}\n        value={inputValue}\n      />\n      {children ? <div className={styles.decoration}>{children}</div> : null}\n      <Select\n        opened={opened}\n        options={filteredSelect}\n        value={inputValue}\n        cancelable={false}\n        onChange={(value) => {\n          const { preventDefault } = onSelect?.(value ?? '') ?? {};\n          if (!preventDefault) handleChange(value ?? '');\n          isRefocus = true;\n          tempSearchboxFocusEvent.current?.target.focus();\n          setOpened(false);\n        }}\n        float={float}\n      />\n    </Input.Wrap>\n  );\n};\n"],"names":["_extends","target","i","source","key","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","sourceKeys","Search","forwardRef","_ref","ref","_ref$color","color","_ref$size","size","rest","React","PropTypes","Search$1","Searchbox","filterByKeyword","validation","options","value","onSelect","children","jsx","disabled","className","style","reversed","float","onChange","onClick","onFocus","id","name","onBlur","restInputProps","opened","setOpened","useState","inputValue","setInputValue","useSubscribedState","filteredSelect","useMemo","value2","standardizeString","standardizeInputTextArray","standardizeOption","inputText","validationMessage","validateValue","useValidationMessage","handleChange","tempSearchboxFocusEvent","useRef","isRefocus","jsxs","Input","_a","styles","Select","preventDefault"],"mappings":"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","x_google_ignoreList":[0]}