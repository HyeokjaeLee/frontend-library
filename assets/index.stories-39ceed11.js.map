{"version":3,"file":"index.stories-39ceed11.js","sources":["../../../src/components/organisms/Drawer/DrawerHeader.tsx","../../../src/components/organisms/Drawer/index.tsx"],"sourcesContent":["import { X } from 'react-feather';\n\nimport { Button } from '@components/molecules';\nimport { useModalContext } from '@contexts/ModalContext';\nimport { HTMLTagProps } from '@types';\nimport { cleanClassName } from '@utils';\n\nimport styles from './DrawerHeader.module.scss';\n\nexport interface DrawerHeaderProps extends HTMLTagProps<'header'> {\n  closeButton?: boolean;\n}\n\nexport const DrawerHeader = ({\n  //* Drawer.Header props\n  closeButton = false,\n\n  //* HTML header props\n  className,\n  children,\n  ...restHeaderProps\n}: DrawerHeaderProps) => {\n  const { onClose } = useModalContext();\n\n  return (\n    <header\n      {...restHeaderProps}\n      className={cleanClassName(`${styles.header} ${className}`)}\n    >\n      <div>{children}</div>\n      {closeButton ? (\n        <Button size=\"small\" theme=\"clear\" onClick={onClose} icon={<X />} />\n      ) : null}\n    </header>\n  );\n};\n","import { createPortal } from 'react-dom';\n\nimport { ModalContextProvider } from '@contexts/ModalContext';\nimport {\n  useOpeningTransitionState,\n  OPENING_TRANSITION,\n  usePreventBackgroundScroll,\n  useDarkMode,\n} from '@hooks';\nimport { cleanClassName } from '@utils';\n\nimport { DrawerHeader } from './DrawerHeader';\nimport styles from './index.module.scss';\n\nimport type { ModalProps } from '../Modal/index';\n\nexport type { DrawerHeaderProps } from './DrawerHeader';\n\nexport interface DrawerProps extends ModalProps {\n  drawerDirection?: 'bottom' | 'top' | 'left' | 'right';\n}\n\nexport const Drawer = Object.assign(\n  ({\n    //* Drawer props\n    zIndex = 100,\n    blurredBackground = true,\n    opened = false,\n    onClose,\n    backgroundScroll = false,\n    drawerDirection = 'right',\n    fixedDarkMode,\n\n    //* HTML article props\n    className,\n    children,\n    ...restArticleProps\n  }: DrawerProps) => {\n    const [openingTransition, setOpeningTransition, preventDefaultClose] =\n      useOpeningTransitionState({\n        openingTransition: opened\n          ? OPENING_TRANSITION.OPENED\n          : OPENING_TRANSITION.CLOSED,\n        closingDuration: 200,\n      });\n\n    usePreventBackgroundScroll({\n      backgroundScroll,\n      isPrevent: !!openingTransition,\n    });\n\n    const handleClose = () => {\n      onClose?.({ preventDefaultClose });\n      setOpeningTransition(false);\n    };\n\n    const closingClassName =\n      openingTransition === OPENING_TRANSITION.CLOSING && styles.closing;\n\n    const { isDarkMode } = useDarkMode(fixedDarkMode);\n\n    return openingTransition ? (\n      createPortal(\n        <div\n          style={{\n            zIndex,\n          }}\n          className={`${styles['drawer-container']} ${styles[drawerDirection]}`}\n        >\n          <div\n            className={cleanClassName(\n              `${styles['background-layer']} ${\n                blurredBackground && styles.blurred\n              } ${closingClassName} ${drawerDirection}`,\n            )}\n            onClick={handleClose}\n          />\n          <article\n            {...restArticleProps}\n            className={cleanClassName(\n              `${styles.drawer} ${styles[drawerDirection]} ${\n                isDarkMode && styles.dark\n              } ${closingClassName} ${className}`,\n            )}\n          >\n            <ModalContextProvider onClose={handleClose}>\n              {children}\n            </ModalContextProvider>\n          </article>\n        </div>,\n        document.body,\n      )\n    ) : (\n      <></>\n    );\n  },\n  {\n    Header: DrawerHeader,\n  },\n);\n"],"names":["DrawerHeader","closeButton","className","children","restHeaderProps","onClose","useModalContext","jsxs","cleanClassName","styles","jsx","Button","X","Drawer","zIndex","blurredBackground","opened","backgroundScroll","drawerDirection","fixedDarkMode","restArticleProps","openingTransition","setOpeningTransition","preventDefaultClose","useOpeningTransitionState","OPENING_TRANSITION","usePreventBackgroundScroll","handleClose","closingClassName","isDarkMode","useDarkMode","createPortal","ModalContextProvider","Fragment"],"mappings":"yjDAaOA,EAAA,CAAA,CAAsB,YAAAC,EAAA,GAEb,UAAAC,EAGd,SAAAC,EACA,GAAAC,CAEF,IAAA,CACE,KAAA,CAAA,QAAAC,GAAAC,IAEA,OAAAC,EAAA,KACE,SAAC,CAAA,GAAAH,EACK,UAAAI,EAAA,GAAAC,EAAA,MAAA,IAAAP,CAAA,EAAA,EACqD,SAAA,CAEzDQ,MAAA,MAAA,CAAA,SAAAP,EAAA,EAAeF,EAAAS,EAAA,IAAAC,EAAA,CAAA,KAAA,QAAA,MAAA,QAAA,QAAAN,EAAA,KAAAK,EAAA,IAAAE,EAAA,CAAA,CAAA,CAAA,CAAA,EAAA,IAGX,CAAA,CAAA,CAGV,giDCbOC,EAAA,OAAA,OAAsB,CAAA,CAC1B,OAAAC,EAAA,IAEU,kBAAAC,EAAA,GACW,OAAAC,EAAA,GACX,QAAAX,EACT,iBAAAY,EAAA,GACmB,gBAAAC,EAAA,QACD,cAAAC,EAClB,UAAAjB,EAGA,SAAAC,EACA,GAAAiB,CACG,IAAA,CAEH,KAAA,CAAAC,EAAAC,EAAAC,CAAA,EAAAC,EAAA,CAC4B,kBAAAR,EAAAS,EAAA,OAAAA,EAAA,OAGD,gBAAA,GACN,CAAA,EAGrBC,EAAA,CAA2B,iBAAAT,EACzB,UAAA,CAAA,CAAAI,CACa,CAAA,EAGf,MAAAM,EAAA,IAAA,CACEtB,GAAA,MAAAA,EAAA,CAAA,oBAAAkB,CAAA,GACAD,EAAA,EAAA,CAA0B,EAG5BM,EAAAP,IAAAI,EAAA,SAAAhB,EAAA,QAGA,CAAA,WAAAoB,CAAA,EAAAC,EAAAX,CAAA,EAEA,OAAAE,EAAAU,EAAA,aACExB,EAAA,KACE,MAAC,CAAA,MAAA,CACQ,OAAAO,CACL,EACF,UAAA,GAAAL,EAAA,kBAAA,CAAA,IAAAA,EAAAS,CAAA,CAAA,GACmE,SAAA,CAEnER,EAAA,IAAA,MAAC,CAAA,UAAAF,EACY,GAAAC,EAAA,kBAAA,CAAA,IAAAM,GAAAN,EAAA,OAAA,IAAAmB,CAAA,IAAAV,CAAA,EAG8B,EACzC,QAAAS,CACS,CAAA,EACXjB,EAAA,IACA,UAAC,CAAA,GAAAU,EACK,UAAAZ,EACO,GAAAC,EAAA,MAAA,IAAAA,EAAAS,CAAA,CAAA,IAAAW,GAAApB,EAAA,IAAA,IAAAmB,CAAA,IAAA1B,CAAA,EAGwB,EACnC,SAAAQ,EAAA,IAAAsB,EAAA,CAAA,QAAAL,EAAA,SAAAxB,EAAA,CAIA,CAAA,CACF,CAAA,CAAA,EACF,SAAA,IACS,EAAAO,EAAA,IAAAuB,WAAA,CAAA,CAAA,CAGT,EAEN,CACA,OAAAjC,CACU,CAEZ;;;;;;;;;;;;;;;;"}