{"version":3,"file":"index.stories-a88e2b50.js","sources":["../../../src/components/organisms/Modal/ModalHeader.tsx","../../../src/components/organisms/Modal/index.tsx"],"sourcesContent":["import { X } from 'react-feather';\n\nimport { Button } from '@components/molecules';\nimport { useModalContext } from '@contexts/ModalContext';\nimport { HTMLTagProps } from '@types';\nimport { cleanClassName } from '@utils';\n\nimport styles from './ModalHeader.module.scss';\n\nexport interface ModalHeaderProps extends HTMLTagProps<'header'> {\n  closeButton?: boolean;\n}\n\nexport const ModalHeader = ({\n  //* Modal.Header props\n  closeButton = false,\n\n  //* HTML header props\n  className,\n  children,\n  ...restHeaderProps\n}: ModalHeaderProps) => {\n  const { onClose } = useModalContext();\n\n  return (\n    <header\n      {...restHeaderProps}\n      className={cleanClassName(`${styles.header} ${className}`)}\n    >\n      <div>{children}</div>\n      {closeButton ? (\n        <Button size=\"small\" theme=\"clear\" onClick={onClose} icon={<X />} />\n      ) : null}\n    </header>\n  );\n};\n","import { createPortal } from 'react-dom';\n\nimport { ModalContextProvider } from '@contexts/ModalContext';\nimport {\n  useOpeningTransitionState,\n  OPENING_TRANSITION,\n  usePreventBackgroundScroll,\n} from '@hooks';\nimport { HTMLTagProps } from '@types';\nimport { cleanClassName } from '@utils';\n\nimport { ModalHeader } from './ModalHeader';\nimport styles from './index.module.scss';\n\nexport type { ModalHeaderProps } from './ModalHeader';\n\ninterface ModalCloseEvent {\n  preventDefaultClose: () => void;\n}\nexport interface ModalProps extends HTMLTagProps<'article'> {\n  zIndex?: number;\n  blurredBackground?: boolean;\n  opened?: boolean;\n  onClose?: (e: ModalCloseEvent) => void;\n  backgroundScroll?: boolean;\n}\n\nexport const Modal = Object.assign(\n  ({\n    //* Modal props\n    zIndex = 100,\n    blurredBackground = true,\n    opened = false,\n    onClose,\n    backgroundScroll = false,\n\n    //* HTML article props\n    className,\n    children,\n    ...restArticleProps\n  }: ModalProps) => {\n    const [openingTransition, setOpeningTransition, preventDefaultClose] =\n      useOpeningTransitionState({\n        openingTransition: opened\n          ? OPENING_TRANSITION.OPENED\n          : OPENING_TRANSITION.CLOSED,\n        closingDuration: 200,\n      });\n\n    const handleClose = () => {\n      onClose?.({ preventDefaultClose });\n      setOpeningTransition(false);\n    };\n\n    usePreventBackgroundScroll({\n      backgroundScroll,\n      isPrevent: !!openingTransition,\n    });\n\n    return openingTransition ? (\n      createPortal(\n        <div\n          style={{\n            zIndex,\n          }}\n          className={`${styles['modal-container']} ${\n            openingTransition === OPENING_TRANSITION.CLOSING && styles.closing\n          }`}\n        >\n          <div\n            className={cleanClassName(\n              `${styles['background-layer']} ${\n                blurredBackground && styles.blurred\n              }`,\n            )}\n            onClick={handleClose}\n          />\n          <article\n            {...restArticleProps}\n            className={cleanClassName(`${styles.modal} ${className}`)}\n          >\n            <ModalContextProvider onClose={handleClose}>\n              {children}\n            </ModalContextProvider>\n          </article>\n        </div>,\n        document.body,\n      )\n    ) : (\n      <></>\n    );\n  },\n  {\n    Header: ModalHeader,\n  },\n);\n"],"names":["ModalHeader","closeButton","className","children","restHeaderProps","onClose","useModalContext","jsxs","cleanClassName","styles","jsx","Button","X","Modal","zIndex","blurredBackground","opened","backgroundScroll","restArticleProps","openingTransition","setOpeningTransition","preventDefaultClose","useOpeningTransitionState","OPENING_TRANSITION","handleClose","usePreventBackgroundScroll","createPortal","ModalContextProvider","Fragment"],"mappings":"ilDAaOA,EAAA,CAAA,CAAqB,YAAAC,EAAA,GAEZ,UAAAC,EAGd,SAAAC,EACA,GAAAC,CAEF,IAAA,CACE,KAAA,CAAA,QAAAC,GAAAC,IAEA,OAAAC,EAAA,KACE,SAAC,CAAA,GAAAH,EACK,UAAAI,EAAA,GAAAC,EAAA,MAAA,IAAAP,CAAA,EAAA,EACqD,SAAA,CAEzDQ,MAAA,MAAA,CAAA,SAAAP,EAAA,EAAeF,EAAAS,EAAA,IAAAC,EAAA,CAAA,KAAA,QAAA,MAAA,QAAA,QAAAN,EAAA,KAAAK,EAAA,IAAAE,EAAA,CAAA,CAAA,CAAA,CAAA,EAAA,IAGX,CAAA,CAAA,CAGV,m0CCROC,EAAA,OAAA,OAAqB,CAAA,CACzB,OAAAC,EAAA,IAEU,kBAAAC,EAAA,GACW,OAAAC,EAAA,GACX,QAAAX,EACT,iBAAAY,EAAA,GACmB,UAAAf,EAGnB,SAAAC,EACA,GAAAe,CACG,IAAA,CAEH,KAAA,CAAAC,EAAAC,EAAAC,CAAA,EAAAC,EAAA,CAC4B,kBAAAN,EAAAO,EAAA,OAAAA,EAAA,OAGD,gBAAA,GACN,CAAA,EAGrBC,EAAA,IAAA,CACEnB,GAAA,MAAAA,EAAA,CAAA,oBAAAgB,CAAA,GACAD,EAAA,EAAA,CAA0B,EAG5B,OAAAK,EAAA,CAA2B,iBAAAR,EACzB,UAAA,CAAA,CAAAE,CACa,CAAA,EAGfA,EAAAO,EAAA,aACEnB,EAAA,KACE,MAAC,CAAA,MAAA,CACQ,OAAAO,CACL,EACF,UAAA,GAAAL,EAAA,iBAAA,CAAA,IAAAU,IAAAI,EAAA,SAAAd,EAAA,OAAA,GAGA,SAAA,CAEAC,EAAA,IAAA,MAAC,CAAA,UAAAF,EACY,GAAAC,EAAA,kBAAA,CAAA,IAAAM,GAAAN,EAAA,OAAA,EAGT,EACF,QAAAe,CACS,CAAA,EACXd,EAAA,IACA,UAAC,CAAA,GAAAQ,EACK,UAAAV,EAAA,GAAAC,EAAA,KAAA,IAAAP,CAAA,EAAA,EACoD,SAAAQ,EAAA,IAAAiB,EAAA,CAAA,QAAAH,EAAA,SAAArB,EAAA,CAIxD,CAAA,CACF,CAAA,CAAA,EACF,SAAA,IACS,EAAAO,EAAA,IAAAkB,WAAA,CAAA,CAAA,CAGT,EAEN,CACA,OAAA5B,CACU,CAEZ;;;;;;;;;;;;;;"}