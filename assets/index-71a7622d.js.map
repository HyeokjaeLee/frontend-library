{"version":3,"file":"index-71a7622d.js","sources":["../../../src/components/molecules/Textbox/index.tsx"],"sourcesContent":["import type { InputProps, InputWrapProps } from '@components/atoms';\nimport { Input } from '@components/atoms';\nimport { useSubscribedState, useValidationMessage } from '@hooks';\nimport type { ValidateHandler, InputType } from '@hooks';\nimport { InnerStateChangeEventHandler, Size } from '@types';\nimport { cleanClassName } from '@utils';\n\nimport styles from './index.module.scss';\n\nexport interface TextboxProps\n  extends Omit<\n      InputProps,\n      'className' | 'size' | 'style' | 'value' | 'onChange'\n    >,\n    Pick<InputWrapProps, 'className' | 'style' | 'reversed' | 'label'> {\n  value?: string;\n  onChange?: InnerStateChangeEventHandler<string>;\n  validation?: ValidateHandler<TextboxProps['value']>;\n  children?: React.ReactNode;\n  type?: Exclude<InputType, 'button'>;\n  size?: Size;\n}\n\nexport const Textbox = ({\n  //* Textbox props\n  value,\n  onChange,\n  validation,\n  children,\n  type,\n  size,\n\n  //* Input.Wrap props\n  className,\n  style,\n  reversed,\n  label,\n\n  //* Input props\n  ...restInputProps\n}: TextboxProps) => {\n  const [inputValue, setInputValue, preventInnerStateChange] =\n    useSubscribedState(value);\n\n  const { id } = restInputProps;\n\n  const { validationMessage, validateOnChange } = useValidationMessage({\n    validateHandler: validation,\n    value: inputValue,\n    key: id,\n  });\n\n  return (\n    <Input.Wrap\n      size={size}\n      validationMessage={validationMessage}\n      className={className}\n      style={style}\n      reversed={reversed}\n      label={label}\n    >\n      <Input\n        {...restInputProps}\n        type={type}\n        value={inputValue}\n        onChange={({ value }) => {\n          onChange?.({\n            value,\n            preventInnerStateChange,\n          });\n          setInputValue(value);\n          validateOnChange?.(value);\n        }}\n      />\n      {children ? (\n        <div className={cleanClassName(`${styles.decoration}`)}>{children}</div>\n      ) : null}\n    </Input.Wrap>\n  );\n};\n"],"names":["Textbox","value","onChange","validation","children","type","size","className","style","reversed","label","restInputProps","inputValue","setInputValue","preventInnerStateChange","useSubscribedState","id","validationMessage","validateOnChange","useValidationMessage","jsxs","Input","jsx","value2","cleanClassName","styles"],"mappings":"6nCAuBOA,EAAA,CAAA,CAAiB,MAAAC,EAEtB,SAAAC,EACA,WAAAC,EACA,SAAAC,EACA,KAAAC,EACA,KAAAC,EACA,UAAAC,EAGA,MAAAC,EACA,SAAAC,EACA,MAAAC,EACA,GAAAC,CAIF,IAAA,CACE,KAAA,CAAAC,EAAAC,EAAAC,CAAA,EAAAC,EAAAd,CAAA,EAGA,CAAA,GAAAe,CAAA,EAAAL,EAEA,CAAA,kBAAAM,EAAA,iBAAAC,CAAA,EAAAC,EAAA,CAAqE,gBAAAhB,EAClD,MAAAS,EACV,IAAAI,CACF,CAAA,EAGP,OAAAI,EAAA,KACEC,EAAA,KAAO,CAAN,KAAAf,EACC,kBAAAW,EACA,UAAAV,EACA,MAAAC,EACA,SAAAC,EACA,MAAAC,EACA,SAAA,CAEAY,EAAA,IAAAD,EAAC,CAAA,GAAAV,EACK,KAAAN,EACJ,MAAAO,EACO,SAAA,CAAA,CAAA,MAAAW,KAAA,CAELrB,GAAA,MAAAA,EAAA,CAAW,MAAAqB,EACT,wBAAAT,CACA,GAEFD,EAAAU,CAAA,EACAL,GAAA,MAAAA,EAAAK,EAAwB,CAC1B,CAAA,EACFnB,EAAAkB,EAAAA,IAAA,MAAA,CAAA,UAAAE,EAAA,GAAAC,EAAA,UAAA,EAAA,EAAA,SAAArB,CAAA,CAAA,EAAA,IAGI,CAAA,CAAA,CAGV"}