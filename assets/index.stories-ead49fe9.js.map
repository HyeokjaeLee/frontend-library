{"version":3,"file":"index.stories-ead49fe9.js","sources":["../../../src/hooks/private/useTextareaDynamicHeight.tsx","../../../src/components/molecules/Textarea/index.tsx"],"sourcesContent":["import { useRef } from 'react';\n\nexport const useTextareaDynamicHeight = () => {\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  const { current: textareaElement } = textareaRef;\n\n  if (textareaElement)\n    textareaElement.style.height = `${textareaElement.scrollHeight}px`;\n\n  const handleTextareaHeight = (target: EventTarget & HTMLTextAreaElement) => {\n    const { style } = target;\n    style.height = 'auto';\n    style.height = `${target.scrollHeight}px`;\n  };\n\n  return {\n    textareaRef,\n    handleTextareaHeight,\n  };\n};\n","import { Input } from '@components/atoms';\nimport type { InputWrapProps } from '@components/atoms';\nimport {\n  useSubscribedState,\n  useTextareaDynamicHeight,\n  useValidationMessage,\n} from '@hooks';\nimport type { ValidateHandler } from '@hooks';\nimport type { HTMLTagProps, InputDisabled, Size } from '@types';\n\nimport styles from './index.module.scss';\n\ninterface TextareaProps\n  extends Pick<InputWrapProps, 'className' | 'style'>,\n    Omit<\n      HTMLTagProps<'textarea'>,\n      'resize' | 'disabled' | 'className' | 'style' | 'rows' | 'onChange'\n    > {\n  size?: Size;\n  disabled?: InputDisabled;\n  value?: string;\n  onChange?: (value: string) => void;\n  children?: React.ReactNode;\n  validation?: ValidateHandler<TextareaProps['value']>;\n}\n\nexport const Textarea = ({\n  //* Textarea props\n  size = 'medium',\n  disabled,\n  value,\n  onChange,\n  children,\n  validation,\n\n  //* InputWrap props\n  className,\n  style,\n\n  //* HTML textarea props\n  id,\n  ...restTextareaProps\n}: TextareaProps) => {\n  const { textareaRef, handleTextareaHeight } = useTextareaDynamicHeight();\n  const [textareaValue, setTextareaValue] = useSubscribedState(value);\n  const { validationMessage, validateValue } = useValidationMessage({\n    validateHandler: validation,\n    value: textareaValue,\n    id,\n  });\n\n  return (\n    <Input.Wrap\n      size=\"fit-content\"\n      className={className}\n      style={style}\n      readonly={disabled === 'readonly'}\n      validationMessage={validationMessage}\n    >\n      <div className={`${styles['textarea-wrap']} ${styles[`size-${size}`]}`}>\n        <textarea\n          {...restTextareaProps}\n          value={textareaValue}\n          rows={1}\n          disabled={!!disabled}\n          className={styles.textarea}\n          ref={textareaRef}\n          onChange={({ target }) => {\n            const { value } = target;\n            setTextareaValue(value);\n            onChange?.(value);\n            validateValue(value);\n            handleTextareaHeight(target);\n          }}\n        />\n        {children ? <div className={styles.decoration}>{children}</div> : null}\n      </div>\n    </Input.Wrap>\n  );\n};\n"],"names":["useTextareaDynamicHeight","textareaRef","useRef","textareaElement","target","style","Textarea","size","disabled","value","onChange","children","validation","className","id","restTextareaProps","handleTextareaHeight","textareaValue","setTextareaValue","useSubscribedState","validationMessage","validateValue","useValidationMessage","jsx","Input","jsxs","styles","value2"],"mappings":"mmBAEO,MAAMA,EAA2B,IAAM,CACtC,MAAAC,EAAcC,SAA4B,IAAI,EAE9C,CAAE,QAASC,CAAoB,EAAAF,EAEjC,OAAAE,IACcA,EAAA,MAAM,OAAS,GAAGA,EAAgB,kBAQ7C,CACL,YAAAF,EACA,qBAR4BG,GAA8C,CACpE,KAAA,CAAE,MAAAC,CAAU,EAAAD,EAClBC,EAAM,OAAS,OACTA,EAAA,OAAS,GAAGD,EAAO,gBAAA,CAKzB,CAEJ,+1BCMOE,EAAA,CAAA,CAAkB,KAAAC,EAAA,SAEhB,SAAAC,EACP,MAAAC,EACA,SAAAC,EACA,SAAAC,EACA,WAAAC,EACA,UAAAC,EAGA,MAAAR,EACA,GAAAS,EAGA,GAAAC,CAEF,IAAA,CACE,KAAA,CAAA,YAAAd,EAAA,qBAAAe,CAAA,EAAAhB,EAAA,EACA,CAAAiB,EAAAC,CAAA,EAAAC,EAAAV,CAAA,EACA,CAAA,kBAAAW,EAAA,cAAAC,CAAA,EAAAC,EAAA,CAAkE,gBAAAV,EAC/C,MAAAK,EACV,GAAAH,CACP,CAAA,EAGF,OAAAS,EAAA,IACEC,EAAA,KAAO,CAAN,KAAA,cACM,UAAAX,EACL,MAAAR,EACA,SAAAG,IAAA,WACuB,kBAAAY,EACvB,SAAAK,EAAA,KAAA,MAAA,CAAA,UAAA,GAAAC,EAAA,eAAA,KAAAA,EAAA,QAAAnB,GAAA,IAAA,SAAA,CAGEgB,EAAA,IAAA,WAAC,CAAA,GAAAR,EACK,MAAAE,EACG,KAAA,EACD,SAAA,CAAA,CAAAT,EACM,UAAAkB,EAAA,SACM,IAAAzB,EACb,SAAA,CAAA,CAAA,OAAAG,KAAA,CAEH,KAAA,CAAA,MAAAuB,CAAA,EAAAvB,EACAc,EAAAS,CAAA,EACAjB,GAAA,MAAAA,EAAAiB,GACAN,EAAAM,CAAA,EACAX,EAAAZ,CAAA,CAA2B,CAC7B,CAAA,EACFO,EAAAY,EAAAA,IAAA,MAAA,CAAA,UAAAG,EAAA,WAAA,SAAAf,CAAA,CAAA,EAAA,IACkE,EAAA,CACpE,CAAA,CAGN"}