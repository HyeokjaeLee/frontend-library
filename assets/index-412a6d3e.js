import{r as s}from"./index-8db94870.js";import{j as p}from"./jsx-runtime-94f6e698.js";const E=-1;function I(e,n){const t=s.useRef(!1);s.useEffect(t.current?e:()=>{t.current=!0},n)}const f=e=>{const n=s.useRef(null),[t,a]=s.useState();return I(()=>a(()=>n.current?{height:n.current.clientHeight}:{height:"fit-content"}),[e]),{dynamicHeight:e?t:void 0,toastContentRef:n}};try{f.displayName="useToastDynamicHeight",f.__docgenInfo={description:"",displayName:"useToastDynamicHeight",props:{}}}catch{}var S=(e=>(e.OPENING="opening",e.OPENED="opened",e.HOLDING="holding",e.CLOSING="closing",e.CLOSED="closed",e.DELETED="deleted",e))(S||{});const D=300,g=({holdTime:e,space:n})=>{const[t,a]=s.useState("opening");s.useEffect(()=>{switch(t){case"opening":setTimeout(()=>a("opened"));break;case"opened":{const c=setTimeout(()=>a("closing"),e);return()=>clearTimeout(c)}case"closing":{const c=setTimeout(()=>a("closed"),D);return()=>clearTimeout(c)}}},[e,t]),s.useEffect(()=>{t==="closed"&&!n&&a("deleted")},[n,t]);const o=["opened","holding","closing"].includes(t),u=["opened","holding"].includes(t)||["closing","closed"].includes(t)&&n;return{toastState:t,hasSpace:u,holdToast:()=>{o&&a("holding")},unholdToast:()=>{o&&a("opened")}}};try{g.displayName="useToastState",g.__docgenInfo={description:"",displayName:"useToastState",props:{holdTime:{defaultValue:null,description:"",name:"holdTime",required:!0,type:{name:"number"}},space:{defaultValue:null,description:"",name:"space",required:!0,type:{name:"boolean"}}}}}catch{}const C=s.createContext(void 0),m=({children:e})=>{const{current:n}=s.useRef(new Map);return p.jsx(C.Provider,{value:n,children:e})},v=()=>({validationMap:s.useContext(C)});try{m.displayName="ValidationContextProvider",m.__docgenInfo={description:"",displayName:"ValidationContextProvider",props:{}}}catch{}const _=({id:e,value:n,validateHandler:t})=>{const{validationMap:a}=v(),[o,u]=s.useState(),c=s.useCallback(r=>u(t==null?void 0:t(r)),[t]);return s.useEffect(()=>{if(a&&e&&t)return a.set(e,()=>{const r=t(n);return u(r),r}),()=>{a.delete(e)}},[e,t,a,n]),{validationMessage:o,validateValue:c}};try{_.displayName="useValidationMessage",_.__docgenInfo={description:"",displayName:"useValidationMessage",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TValue"}},validateHandler:{defaultValue:null,description:"",name:"validateHandler",required:!0,type:{name:"ValidateHandler<TValue>"}}}}}catch{}const y=({delay:e,disabled:n})=>{const[t,a]=s.useState("after");s.useEffect(()=>{if(!n&&e){a("before");const c=setTimeout(()=>a("delaying")),r=setTimeout(()=>a("after"),e);return()=>{clearTimeout(c),clearTimeout(r)}}},[e,n]);const o=t==="delaying";return{isDelaying:o,isDelayButton:t==="before"||o}};try{y.displayName="useButtonDelay",y.__docgenInfo={description:"",displayName:"useButtonDelay",props:{delay:{defaultValue:null,description:"",name:"delay",required:!1,type:{name:"number"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}const h=({value:e,type:n,placeholder:t=""})=>{const[a,o]=s.useState(!0),u=()=>{if(n==="button"&&!e)return t;if(e!==0&&!e)return"";const r=String(e);if(!a)return r;switch(n){case"number":return r;case"large-number":return Number(r).toLocaleString();case"phone-number":return r.length===10?r.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"):r.replace(/(\d{3})(\d{4})(\d{4})/,"$1-$2-$3");default:return r}},c=r=>{switch(n){case"number":case"large-number":{const i=r==="-"||!Number.isNaN(Number(r));return r&&(i?r:null)}case"phone-number":{let i=r.replace(/[^0-9]/g,"");return i.length>11&&(i=i.slice(0,11)),r&&i}default:return r}};return{formattedValue:u(),convertChangeHandlerParam:c,displayFormattedValue:()=>o(!0),displayOriginalValue:()=>o(!1)}};try{h.displayName="useFormatInputValue",h.__docgenInfo={description:"",displayName:"useFormatInputValue",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"number"'},{value:'"button"'},{value:'"text"'},{value:'"large-number"'},{value:'"phone-number"'},{value:'"password"'}]}},placeholder:{defaultValue:{value:""},description:"",name:"placeholder",required:!1,type:{name:"string"}}}}}catch{}const N=e=>{const n=s.useRef(null),[t,a]=s.useState();return s.useEffect(()=>{const{current:o}=n;return a(o&&e?{height:o.clientHeight}:void 0)},[e]),{messageRef:n,messageWrapHeight:t}};try{N.displayName="useInputMessageDynamicHeight",N.__docgenInfo={description:"",displayName:"useInputMessageDynamicHeight",props:{}}}catch{}const V=({openStatus:e,options:n,selectRefs:t,onKeyDown:a})=>{const o=s.useState(E),[,u]=o;return s.useEffect(()=>{if(e===!0&&n){const c=r=>{switch(a==null||a(r),r.key){case"ArrowUp":return r.preventDefault(),u(i=>{var l;if(i>0){const d=i-1;return(l=t.current[d])==null||l.focus(),d}return i});case"ArrowDown":return r.preventDefault(),u(i=>{var l;if(i<n.length-1){const d=i+1;return(l=t.current[d])==null||l.focus(),d}return i});case"Enter":return r.preventDefault(),u(i=>{var l;return i>=0&&((l=t.current[i])==null||l.click()),i})}};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)}},[a,e,n,t,u]),o};try{V.displayName="useIndexForSelect",V.__docgenInfo={description:"",displayName:"useIndexForSelect",props:{openStatus:{defaultValue:null,description:"",name:"openStatus",required:!0,type:{name:"OpenStatus"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ label: string; value: ValidOptionValue; }[]"}},selectRefs:{defaultValue:null,description:"",name:"selectRefs",required:!0,type:{name:"MutableRefObject<(HTMLButtonElement | null)[]>"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent) => void)"}}}}}catch{}const b=e=>{const[n,t]=s.useState(e);return s.useEffect(()=>{t(a=>a!==e?e?"opening":"closing":a)},[e,t]),s.useEffect(()=>{if(typeof n=="string"){const a=n==="opening",o=setTimeout(()=>t(a),200);return()=>clearTimeout(o)}},[n]),n};try{b.displayName="useSelectOpenStatus",b.__docgenInfo={description:"",displayName:"useSelectOpenStatus",props:{}}}catch{}const M=s.createContext(void 0),k=()=>{const e=s.useContext(M);if(e===void 0)throw new Error("useToastContext must be used within a ToastContextProvider");return{setToastOptionList:e}},x=e=>n=>p.jsx(m,{children:p.jsx(e,{...n})});try{x.displayName="validationObserver",x.__docgenInfo={description:"",displayName:"validationObserver",props:{}}}catch{}const O=()=>{const e=window.matchMedia("(prefers-color-scheme: dark)").matches,n=document.documentElement.classList.contains("pastime:dark");return{isDarkMode:!document.documentElement.classList.contains("pastime:light")&&(n||e),setDarkMode:a=>{a?(document.documentElement.classList.add("pastime:dark"),document.documentElement.classList.remove("pastime:light")):(document.documentElement.classList.add("pastime:light"),document.documentElement.classList.remove("pastime:dark"))}}};function q(e){if(e)return e.replace(/(undefined)|(false)|\n/g,"").replace(/ +(?= )/g,"").replace(/^ */g,"").replace(/ *$/g,"")}s.createContext(null);try{cleanClassName.displayName="cleanClassName",cleanClassName.__docgenInfo={description:"",displayName:"cleanClassName",props:{}}}catch{}export{S as T,_ as a,O as b,q as c,g as d,f as e,M as f,y as g,N as h,h as i,I as j,b as k,V as l,k as u};
//# sourceMappingURL=index-412a6d3e.js.map
